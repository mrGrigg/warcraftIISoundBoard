describe("Function",function(){describe("bind",function(){function t(){return Array.prototype.forEach.call(arguments,function(t){this.push(t)},this),this}var e,n;n={push:function(t){this.a.push(t)}},beforeEach(function(){e=[],n.a=[]}),it("binds properly without a context",function(){var t;n.func=function(){t=this}.bind(),n.func(),expect(t).toBe(function(){return this}.call())}),it("binds properly without a context, and still supplies bound arguments",function(){var t,e;n.func=function(){t=Array.prototype.slice.call(arguments),e=this}.bind(void 0,1,2,3),n.func(1,2,3),expect(t).toEqual([1,2,3,1,2,3]),expect(e).toBe(function(){return this}.call())}),it("binds a context properly",function(){n.func=t.bind(e),n.func(1,2,3),expect(e).toEqual([1,2,3]),expect(n.a).toEqual([])}),it("binds a context and supplies bound arguments",function(){n.func=t.bind(e,1,2,3),n.func(4,5,6),expect(e).toEqual([1,2,3,4,5,6]),expect(n.a).toEqual([])}),it("returns properly without binding a context",function(){n.func=function(){return this}.bind();var t=n.func();expect(t).toBe(function(){return this}.call())}),it("returns properly without binding a context, and still supplies bound arguments",function(){var t;n.func=function(){return t=this,Array.prototype.slice.call(arguments)}.bind(void 0,1,2,3),e=n.func(1,2,3),expect(t).toBe(function(){return this}.call()),expect(e).toEqual([1,2,3,1,2,3])}),it("returns properly while binding a context properly",function(){var i;n.func=t.bind(e),i=n.func(1,2,3),expect(i).toBe(e),expect(i).not.toBe(n)}),it("returns properly while binding a context and supplies bound arguments",function(){var i;n.func=t.bind(e,1,2,3),i=n.func(4,5,6),expect(i).toBe(e),expect(i).not.toBe(n)}),it("passes the correct arguments as a constructor",function(){var t,e={name:"Correct"};n.func=function(t){return t}.bind({name:"Incorrect"}),t=new n.func(e),expect(t).toBe(e)}),it("returns the return value of the bound function when called as a constructor",function(){var t=[1,2,3],e=function(){return t}.bind(null),n=new e;expect(n).toBe(t)}),it("returns the correct value if constructor returns primitive",function(){var t=[1,2,3],e=function(){return t}.bind(null),n=new e;expect(n).toBe(t),t={},n=new e,expect(n).toBe(t),t=function(){},n=new e,expect(n).toBe(t),t="asdf",n=new e,expect(n).not.toBe(t),t=null,n=new e,expect(n).not.toBe(t),t=!0,n=new e,expect(n).not.toBe(t),t=1,n=new e,expect(n).not.toBe(t)}),it('returns the value that instance of original "class" when called as a constructor',function(){var t=function(t){this.name=t||"A"},e=t.bind(null,"B"),n=new e;expect(n instanceof t).toBe(!0),expect(n instanceof e).toBe(!0)})})});