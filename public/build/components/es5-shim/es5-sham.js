// Copyright 2009-2012 by contributors, MIT License
// vim: ts=4 sts=4 sw=4 expandtab

(function(t){"function"==typeof define?define(t):"function"==typeof YUI?YUI.add("es5-sham",t):t()})(function(){function t(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){}}if(Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var e="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(t,i){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(e+t);if(owns(t,i)){var n={enumerable:!0,configurable:!0};if(supportsAccessors){var o=t.__proto__;t.__proto__=prototypeOfObject;var s=lookupGetter(t,i),a=lookupSetter(t,i);if(t.__proto__=o,s||a)return s&&(n.get=s),a&&(n.set=a),n}return n.value=t[i],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),!Object.create){var i,n=null===Object.prototype.__proto__;i=n||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function t(){}var e=document.createElement("iframe"),i=document.body||document.documentElement;e.style.display="none",i.appendChild(e),e.src="javascript:";var n=e.contentWindow.Object.prototype;return i.removeChild(e),e=null,delete n.constructor,delete n.hasOwnProperty,delete n.propertyIsEnumerable,delete n.isPrototypeOf,delete n.toLocaleString,delete n.toString,delete n.valueOf,n.__proto__=null,t.prototype=n,function(){return new t}}(),Object.create=function(t,e){function n(){}var o;if(null===t)o=i();else{if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object or null");n.prototype=t,o=new n,o.__proto__=t}return void 0!==e&&Object.defineProperties(o,e),o}}if(Object.defineProperty){var o=t({}),s="undefined"==typeof document||t(document.createElement("div"));if(!o||!s)var a=Object.defineProperty,r=Object.defineProperties}if(!Object.defineProperty||a){var h="Property description must be an object: ",l="Object.defineProperty called on non-object: ",c="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,e,i){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(l+t);if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError(h+i);if(a)try{return a.call(Object,t,e,i)}catch(n){}if(owns(i,"value"))if(supportsAccessors&&(lookupGetter(t,e)||lookupSetter(t,e))){var o=t.__proto__;t.__proto__=prototypeOfObject,delete t[e],t[e]=i.value,t.__proto__=o}else t[e]=i.value;else{if(!supportsAccessors)throw new TypeError(c);owns(i,"get")&&defineGetter(t,e,i.get),owns(i,"set")&&defineSetter(t,e,i.set)}return t}}(!Object.defineProperties||r)&&(Object.defineProperties=function(t,e){if(r)try{return r.call(Object,t,e)}catch(i){}for(var n in e)owns(e,n)&&"__proto__"!=n&&Object.defineProperty(t,n,e[n]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(f){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)!==t)throw new TypeError;for(var e="";owns(t,e);)e+="?";t[e]=!0;var i=owns(t,e);return delete t[e],i})});