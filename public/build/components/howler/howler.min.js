/*!
 *  howler.js v1.0.7
 *  howlerjs.com
 *
 *  (c) 2013, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */

(function(){var t={},e=null,n=!0;if("undefined"!=typeof AudioContext?e=new AudioContext:"undefined"!=typeof webkitAudioContext?e=new webkitAudioContext:n=!1,n){var i=e.createGainNode();i.gain.value=1,i.connect(e.destination)}var r=function(){this._volume=1,this._muted=!1};r.prototype={volume:function(e){var r=this;if(e&&e>=0&&1>=e){r._volume=e,n&&(i.gain.value=e);for(var o in t)if(t.hasOwnProperty(o)&&t[o]._webAudio===!1)for(var s=0;t[o]._audioNode.length>s;s++)t[o]._audioNode[s].volume=t[o]._volume*r._volume;return r}return n?i.gain.value:r._volume},mute:function(){var e=this;e._muted=!0,n&&(i.gain.value=0);for(var r in t)if(t.hasOwnProperty(r)&&t[r]._webAudio===!1)for(var o=0;t[r]._audioNode.length>o;o++)t[r]._audioNode[o].volume=0;return e},unmute:function(){var e=this;e._muted=!1,n&&(i.gain.value=e._volume);for(var r in t)if(t.hasOwnProperty(r)&&t[r]._webAudio===!1)for(var o=0;t[r]._audioNode.length>o;o++)t[r]._audioNode[o].volume=t[r]._volume*e._volume;return e}},window.Howler=new r;var o=new Audio,s={mp3:!!o.canPlayType("audio/mpeg;").replace(/^no$/,""),ogg:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!o.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),m4a:!!(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),webm:!!o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")};o=null;var a=window.Howl=function(t){var r=this;r._autoplay=t.autoplay||!1,r._buffer=t.buffer||!1,r._duration=t.duration||0,r._loop=t.loop||!1,r._loaded=!1,r._sprite=t.sprite||{},r._src=t.src||"",r._pos=t.pos||0,r._volume=t.volume||1,r._urls=t.urls||[],r._onload=[t.onload||function(){}],r._onend=[t.onend||function(){}],r._onpause=[t.onpause||function(){}],r._onendTimer=[],r._webAudio=n&&!r._buffer,r._webAudio?(r._gainNode=e.createGainNode(),r._gainNode.gain.value=r._volume,r._gainNode.connect(i)):r._audioNode=[],r.load()};if(a.prototype={load:function(){for(var e=this,n=null,i=0;e._urls.length>i;i++){var r=e._urls[i].toLowerCase().match(/.+\.([^?]+)(\?|$)/)[1],o=!1;switch(r){case"mp3":o=s.mp3;break;case"ogg":o=s.ogg;break;case"wav":o=s.wav;break;case"m4a":o=s.m4a;break;case"weba":o=s.webm}if(o===!0){n=e._urls[i];break}}if(n){if(e._src=n,e._webAudio)c(e,n);else{var a=new Audio;e._audioNode.push(a),a.src=n,a.preload="auto",a.volume=Howler._muted?0:e._volume*Howler.volume(),t[n]=e;var u=function(){e._duration=a.duration,e._loaded=!0,e.on("load"),e._autoplay&&e.play(),a.removeEventListener("canplaythrough",u,!1)};a.addEventListener("canplaythrough",u,!1),a.load()}return e}},urls:function(t){var e=this;return t?(e._urls=t,e.stop(),e.load(),e):e._urls},play:function(t){var n=this;if(!n._loaded)return n.on("load",function(){n.play(t)}),n;if(t&&!n._sprite[t])return n;var i=t?n._sprite[t][0]/1e3:n._pos,r=t?n._sprite[t][1]/1e3:n._duration-i,o=Date.now()+"";return function(){var e={id:o,sprite:t};n._onendTimer.push(setTimeout(function(){n._loop&&n.stop().play(t),n._webAudio||n.pause(e.id,e.timer),n.on("end")},1e3*r)),e.timer=n._onendTimer[n._onendTimer.length-1]}(),n._webAudio?(l(n),n._playStart=e.currentTime,n.bufferSource.noteGrainOn(0,i,r)):n.inactiveNode(function(t){t.id=o,t.currentTime=i,t.play()}),n},pause:function(t,n){var i=this;if(!i._loaded)return i.on("load",function(){i.pause(t)}),i;var r=i._onendTimer.indexOf(n);if(r>=0&&(clearTimeout(i._onendTimer[r]),i._onendTimer.splice(r,1)),i._webAudio){if(!i.bufferSource)return i;i._pos+=e.currentTime-i._playStart,i.bufferSource.noteOff(0)}else{var o=t?i.nodeById(t):i.activeNode();o&&(i._pos=o.currentTime,o.pause())}return i.on("pause"),i},stop:function(){var t=this;if(t._pos=0,!t._loaded)return t.on("load",function(){t.stop()}),t;if(t._onendTimer[0]&&(clearTimeout(t._onendTimer[0]),t._onendTimer.splice(0,1)),t._webAudio){if(!t.bufferSource)return t;t.bufferSource.noteOff(0)}else{var e=t.activeNode();e&&(e.pause(),e.currentTime=0)}return t},mute:function(){var t=this;if(!t._loaded)return t.on("load",function(){t.mute()}),t;if(t._webAudio)t._gainNode.gain.value=0;else{var e=t.activeNode();e&&(e.volume=0)}return t},unmute:function(){var t=this;if(!t._loaded)return t.on("load",function(){t.unmute()}),t;if(t._webAudio)t._gainNode.gain.value=t._volume;else{var e=t.activeNode();e&&(e.volume=t._volume)}return t},volume:function(t){var e=this;if(!e._loaded)return e.on("load",function(){e.volume(t)}),e;if(t>=0&&1>=t){if(e._volume=t,e._webAudio)e._gainNode.gain.value=t;else{var n=e.activeNode();n&&(n.volume=t*Howler.volume())}return e}return e._volume},loop:function(t){var e=this;return"boolean"==typeof t?(e._loop=t,e):e._loop},sprite:function(t){var e=this;return"object"==typeof t?(e._sprite=t,e):e._sprite},pos:function(t){var n=this;if(!n._loaded)return n.on("load",function(){n.pos(t)}),n;if(n._webAudio)return t>=0?(n._pos=t,n.pause().play(),n):n._pos+(e.currentTime-n._playStart);var i=n.activeNode();return i?t>=0?(i.currentTime=t,n):i.currentTime:n},fadeIn:function(t,e,n){var i=this,r=t,o=r/.01,s=e/o;if(!i._loaded)return i.on("load",function(){i.fadeIn(t,e,n)}),i;i.volume(0).play();for(var a=1;o>=a;a++)(function(){var e=Math.round(1e3*(i._volume+.01*a))/1e3,r=t;setTimeout(function(){i.volume(e),e===r&&n&&n()},s*a)})();return i},fadeOut:function(t,e,n){var i=this,r=i._volume-t,o=r/.01,s=e/o;if(!i._loaded)return i.on("load",function(){i.fadeOut(t,e,n)}),i;for(var a=1;o>=a;a++)(function(){var e=Math.round(1e3*(i._volume-.01*a))/1e3,r=t;setTimeout(function(){i.volume(e),e===r&&(n&&n(),i.pause())},s*a)})();return i},nodeById:function(t){for(var e=this,n=null,i=0;e._audioNode.length>i;i++)if(e._audioNode[i].id===t){n=e._audioNode[i];break}return n},activeNode:function(){for(var t=this,e=null,n=0;t._audioNode.length>n;n++)if(!t._audioNode[n].paused){e=t._audioNode[n];break}return t.drainPool(),e},inactiveNode:function(t){for(var e=this,n=null,i=0;e._audioNode.length>i;i++)if(e._audioNode[i].paused){t(e._audioNode[i]),n=!0;break}if(e.drainPool(),!n){e.load();var r=e._audioNode[e._audioNode.length-1];r.addEventListener("loadedmetadata",function(){t(r)})}},drainPool:function(){var t,e=this,n=0;for(t=0;e._audioNode.length>t;t++)e._audioNode[t].paused&&n++;for(t=0;e._audioNode.length>t&&!(5>=n);t++)e._audioNode[t].paused&&(n--,e._audioNode.splice(t,1))},on:function(t,e){var n=this,i=n["_on"+t];if(e)i.push(e);else for(var r=0;i.length>r;r++)i[r].call();return n},off:function(t,e){for(var n=this,i=n["_on"+t],r=""+e,o=0;i.length>o;o++)if(r===""+i[o]){i.splice(o,1);break}return n}},n)var c=function(n,i){if(i in t)n._duration=t[i].duration,u(n);else{var r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType="arraybuffer",r.onload=function(){e.decodeAudioData(r.response,function(e){e&&(t[i]=e,u(n,e))})},r.send()}},u=function(t,e){t._duration=e?e.duration:t._duration,t._loaded=!0,t.on("load"),t._autoplay&&t.play()},l=function(n){n.bufferSource=e.createBufferSource(),n.bufferSource.buffer=t[n._src],n.bufferSource.connect(n._gainNode),n.bufferSource.loop=n._loop}})();