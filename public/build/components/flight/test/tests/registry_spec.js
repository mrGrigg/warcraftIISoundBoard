provide(function(t){using("lib/component","lib/registry",function(e,n){var i=function(){function t(){}return e(t)}();describe("(Core) registry",function(){beforeEach(function(){window.outerDiv=document.createElement("div"),window.innerDiv=document.createElement("div"),window.outerDiv.appendChild(window.innerDiv),document.body.appendChild(window.outerDiv)}),afterEach(function(){document.body.removeChild(window.outerDiv),window.outerDiv=null,window.innerDiv=null,i.teardownAll()}),it("registers new components",function(){var t=new i(window.outerDiv);expect(n.components.length).toBe(1),expect(n.allInstances.length).toBe(1),expect(n.allInstances[0].instance).toBe(t)}),it("has correct ComponentInfo",function(){var t=new i(window.outerDiv);expect(n.components.length).toBe(1),expect(n.components[0].component).toBe(i),expect(n.components[0].instances.length).toBe(1),expect(n.components[0].instances[0].instance).toBe(t)}),it("has correct InstanceInfo",function(){var t=new i(window.outerDiv),e=n.allInstances[0];expect(e.instance).toBe(t)}),it("registers/unregisters InstanceInfo events",function(){var t=new i(window.outerDiv),e=n.allInstances[0],r=$.noop;t.on("myEvent",r),expect(e.events.length).toBe(1);var o=e.events[0];expect(o.element).toBe(t.node),expect(o.type).toBe("myEvent"),expect(o.callback.target).toBe(r),t.off("myEvent"),expect(e.events.length).toBeFalsy()}),it("removes instances when we call removeInstanceInfo",function(){var t=new i(window.outerDiv);n.allInstances[0];var e=n.components.length,r=n.allInstances.length;n.removeInstance(t),expect(n.components.length).toBe(e-1),expect(n.allInstances.length).toBe(r-1)}),it("can find components with findComponentInfo",function(){var t=new i(window.outerDiv);expect(n.findComponentInfo(i).component).toBe(i),expect(n.findComponentInfo(t).component).toBe(i)}),it("can find instances with findInstanceInfo",function(){var t=new i(window.outerDiv);expect(n.findInstanceInfo(t).instance).toBe(t),expect(n.findInstanceInfo(window.outerDiv)[0].instance).toBe(t),expect(n.findInstanceInfo({node:window.outerDiv})).toBeNull(),expect(n.findInstanceInfo(window.innerDiv).length).toBeFalsy()})}),t(1)})});