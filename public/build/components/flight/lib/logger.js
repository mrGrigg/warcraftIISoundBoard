define(["./compose","./utils"],function(t,e){function n(t){var e=t.tagName?t.tagName.toLowerCase():""+t,n=t.className?"."+t.className:"",i=e+n;return t.tagName?["'","'"].join(i):i}function i(t,e,i){var o,s,a,c,u,l,h,p;"function"==typeof i[i.length-1]&&(a=i.pop(),a=a.unbound||a),"object"==typeof i[i.length-1]&&i.pop(),2==i.length?(s=i[0],o=i[1]):(s=e.$node[0],o=i[0]),window.DEBUG&&(u=DEBUG.events.logFilter,h="all"==u.actions||u.actions.indexOf(t)>-1,l=function(t){return t.test?t:RegExp("^"+t.replace(/\*/g,".*")+"$")},p="all"==u.eventNames||u.eventNames.some(function(t){return l(t).test(o)}),h&&p&&console.info(r[t],t,"["+o+"]",n(s),e.constructor.describe,a&&(c=a.name||a.displayName)&&"->  "+c))}function o(){this.before("trigger",function(){i("trigger",this,e.toArray(arguments))}),this.before("on",function(){i("on",this,e.toArray(arguments))}),this.before("off",function(){i("off",this,e.toArray(arguments))})}var r={on:"<-",trigger:"->",off:"x "};return o});